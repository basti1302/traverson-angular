require=function t(e,r,n){function o(i,a){if(!r[i]){if(!e[i]){var u="function"==typeof require&&require;if(!a&&u)return u(i,!0);if(s)return s(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var p=r[i]={exports:{}};e[i][0].call(p.exports,function(t){var r=e[i][1][t];return o(r||t)},p,p.exports,t,e,r,n)}return r[i].exports}for(var s="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(t,e,r){},{}],2:[function(t,e,r){function n(t){if(t)return o(t)}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}void 0!==e&&(e.exports=n),n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,o=0;o<r.length;o++)if((n=r[o])===e||n.fn===e){r.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks["$"+t];if(r)for(var n=0,o=(r=r.slice(0)).length;n<o;++n)r[n].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],3:[function(t,e,r){var n=[].indexOf;e.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},{}],4:[function(require,module,exports){var module;!function(glbl,require){"use strict";function push(t,e){return(t=t.slice()).push(e),t}function unshift(t,e){return(e=e.slice()).unshift(t),e}function NewError(t){this.avoidNew=!0,this.value=t,this.message='JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'}function JSONPath(t,e,r,n,o){if(!(this instanceof JSONPath))try{return new JSONPath(t,e,r,n,o)}catch(t){if(!t.avoidNew)throw t;return t.value}"string"==typeof t&&(o=n,n=r,r=e,e=t,t={});var s=(t=t||{}).hasOwnProperty("json")&&t.hasOwnProperty("path");if(this.json=t.json||r,this.path=t.path||e,this.resultType=t.resultType&&t.resultType.toLowerCase()||"value",this.flatten=t.flatten||!1,this.wrap=!t.hasOwnProperty("wrap")||t.wrap,this.sandbox=t.sandbox||{},this.preventEval=t.preventEval||!1,this.parent=t.parent||null,this.parentProperty=t.parentProperty||null,this.callback=t.callback||n||null,this.otherTypeCallback=t.otherTypeCallback||o||function(){throw new Error("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==t.autostart){var i=this.evaluate({path:s?t.path:e,json:s?t.json:r});if(!i||"object"!=typeof i)throw new NewError(i);return i}}var isNode=module&&!!module.exports,allowedResultTypes=["value","path","pointer","parent","parentProperty","all"];Array.prototype.includes||(Array.prototype.includes=function(t){return this.indexOf(t)>-1}),String.prototype.includes||(String.prototype.includes=function(t){return this.indexOf(t)>-1});var moveToAnotherArray=function(t,e,r){for(var n=0,o=t.length;n<o;n++)r(t[n])&&e.push(t.splice(n--,1)[0])},vm=isNode?require("vm"):{runInNewContext:function(expr,context){var keys=Object.keys(context),funcs=[];moveToAnotherArray(keys,funcs,function(t){return"function"==typeof context[t]});var code=funcs.reduce(function(t,e){return"var "+e+"="+context[e].toString()+";"+t},"");return code+=keys.reduce(function(t,e){return"var "+e+"="+JSON.stringify(context[e]).replace(/\u2028|\u2029/g,function(t){return"\\u202"+("\u2028"===t?"8":"9")})+";"+t},expr),eval(code)}};JSONPath.prototype.evaluate=function(t,e,r,n){var o=this,s=this.flatten,i=this.wrap,a=this.parent,u=this.parentProperty;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,r=r||this.callback,this.currOtherTypeCallback=n||this.otherTypeCallback,e=e||this.json,(t=t||this.path)&&"object"==typeof t){if(!t.path)throw new Error('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');e=t.hasOwnProperty("json")?t.json:e,s=t.hasOwnProperty("flatten")?t.flatten:s,this.currResultType=t.hasOwnProperty("resultType")?t.resultType:this.currResultType,this.currSandbox=t.hasOwnProperty("sandbox")?t.sandbox:this.currSandbox,i=t.hasOwnProperty("wrap")?t.wrap:i,this.currPreventEval=t.hasOwnProperty("preventEval")?t.preventEval:this.currPreventEval,r=t.hasOwnProperty("callback")?t.callback:r,this.currOtherTypeCallback=t.hasOwnProperty("otherTypeCallback")?t.otherTypeCallback:this.currOtherTypeCallback,a=t.hasOwnProperty("parent")?t.parent:a,u=t.hasOwnProperty("parentProperty")?t.parentProperty:u,t=t.path}if(a=a||null,u=u||null,Array.isArray(t)&&(t=JSONPath.toPathString(t)),t&&e&&allowedResultTypes.includes(this.currResultType)){this._obj=e;var c=JSONPath.toPathArray(t);"$"===c[0]&&c.length>1&&c.shift(),this._hasParentSelector=null;var p=this._trace(c,e,["$"],a,u,r);return(p=p.filter(function(t){return t&&!t.isParentSelector})).length?1!==p.length||i||Array.isArray(p[0].value)?p.reduce(function(t,e){var r=o._getPreferredOutput(e);return s&&Array.isArray(r)?t=t.concat(r):t.push(r),t},[]):this._getPreferredOutput(p[0]):i?[]:void 0}},JSONPath.prototype._getPreferredOutput=function(t){var e=this.currResultType;switch(e){case"all":return t.path="string"==typeof t.path?t.path:JSONPath.toPathString(t.path),t;case"value":case"parent":case"parentProperty":return t[e];case"path":return JSONPath.toPathString(t[e]);case"pointer":return JSONPath.toPointer(t.path)}},JSONPath.prototype._handleCallback=function(t,e,r){if(e){var n=this._getPreferredOutput(t);t.path="string"==typeof t.path?t.path:JSONPath.toPathString(t.path),e(n,r,t)}},JSONPath.prototype._trace=function(t,e,r,n,o,s,i){function a(t){f.push(t)}function u(t){Array.isArray(t)?t.forEach(a):f.push(t)}var c,p=this;if(!t.length)return c={path:r,value:e,parent:n,parentProperty:o},this._handleCallback(c,s,"value"),c;var l=t[0],h=t.slice(1),f=[];if(("string"!=typeof l||i)&&e&&Object.prototype.hasOwnProperty.call(e,l))u(this._trace(h,e[l],push(r,l),e,l,s));else if("*"===l)this._walk(l,h,e,r,n,o,s,function(t,e,r,n,o,s,i,a){u(p._trace(unshift(t,r),n,o,s,i,a,!0))});else if(".."===l)u(this._trace(h,e,r,n,o,s)),this._walk(l,h,e,r,n,o,s,function(t,e,r,n,o,s,i,a){"object"==typeof n[t]&&u(p._trace(unshift(e,r),n[t],push(o,t),n,t,a))});else{if("^"===l)return this._hasParentSelector=!0,r.length?{path:r.slice(0,-1),expr:h,isParentSelector:!0}:[];if("~"===l)return c={path:push(r,l),value:o,parent:n,parentProperty:null},this._handleCallback(c,s,"property"),c;if("$"===l)u(this._trace(h,e,r,null,null,s));else if(/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/.test(l))u(this._slice(l,h,e,r,n,o,s));else if(0===l.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");this._walk(l,h,e,r,n,o,s,function(t,e,r,n,o,s,i,a){p._eval(e.replace(/^\?\((.*?)\)$/,"$1"),n[t],t,o,s,i)&&u(p._trace(unshift(t,r),n,o,s,i,a))})}else if("("===l[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");u(this._trace(unshift(this._eval(l,e,r[r.length-1],r.slice(0,-1),n,o),h),e,r,n,o,s))}else if("@"===l[0]){var d=!1,y=l.slice(1,-2);switch(y){case"scalar":e&&["object","function"].includes(typeof e)||(d=!0);break;case"boolean":case"string":case"undefined":case"function":typeof e===y&&(d=!0);break;case"number":typeof e===y&&isFinite(e)&&(d=!0);break;case"nonFinite":"number"!=typeof e||isFinite(e)||(d=!0);break;case"object":e&&typeof e===y&&(d=!0);break;case"array":Array.isArray(e)&&(d=!0);break;case"other":d=this.currOtherTypeCallback(e,r,n,o);break;case"integer":e!==+e||!isFinite(e)||e%1||(d=!0);break;case"null":null===e&&(d=!0)}if(d)return c={path:r,value:e,parent:n,parentProperty:o},this._handleCallback(c,s,"value"),c}else if("`"===l[0]&&e&&Object.prototype.hasOwnProperty.call(e,l.slice(1))){var v=l.slice(1);u(this._trace(h,e[v],push(r,v),e,v,s,!0))}else if(l.includes(",")){var g,m;for(g=l.split(","),m=0;m<g.length;m++)u(this._trace(unshift(g[m],h),e,r,n,o,s))}else!i&&e&&Object.prototype.hasOwnProperty.call(e,l)&&u(this._trace(h,e[l],push(r,l),e,l,s,!0))}if(this._hasParentSelector)for(var b=0;b<f.length;b++){var _=f[b];if(_.isParentSelector){var w=p._trace(_.expr,e,_.path,n,o,s);if(Array.isArray(w)){f[b]=w[0];for(var T=1,O=w.length;T<O;T++)b++,f.splice(b,0,w[T])}else f[b]=w}}return f},JSONPath.prototype._walk=function(t,e,r,n,o,s,i,a){var u,c,p;if(Array.isArray(r))for(u=0,c=r.length;u<c;u++)a(u,t,e,r,n,o,s,i);else if("object"==typeof r)for(p in r)Object.prototype.hasOwnProperty.call(r,p)&&a(p,t,e,r,n,o,s,i)},JSONPath.prototype._slice=function(t,e,r,n,o,s,i){if(Array.isArray(r)){var a,u=r.length,c=t.split(":"),p=c[0]&&parseInt(c[0],10)||0,l=c[1]&&parseInt(c[1],10)||u,h=c[2]&&parseInt(c[2],10)||1;p=p<0?Math.max(0,p+u):Math.min(u,p),l=l<0?Math.max(0,l+u):Math.min(u,l);var f=[];for(a=p;a<l;a+=h){var d=this._trace(unshift(a,e),r,n,o,s,i);Array.isArray(d)?d.forEach(function(t){f.push(t)}):f.push(d)}return f}},JSONPath.prototype._eval=function(t,e,r,n,o,s){if(!this._obj||!e)return!1;t.includes("@parentProperty")&&(this.currSandbox._$_parentProperty=s,t=t.replace(/@parentProperty/g,"_$_parentProperty")),t.includes("@parent")&&(this.currSandbox._$_parent=o,t=t.replace(/@parent/g,"_$_parent")),t.includes("@property")&&(this.currSandbox._$_property=r,t=t.replace(/@property/g,"_$_property")),t.includes("@path")&&(this.currSandbox._$_path=JSONPath.toPathString(n.concat([r])),t=t.replace(/@path/g,"_$_path")),t.match(/@([\.\s\)\[])/)&&(this.currSandbox._$_v=e,t=t.replace(/@([\.\s\)\[])/g,"_$_v$1"));try{return vm.runInNewContext(t,this.currSandbox)}catch(e){throw console.log(e),new Error("jsonPath: "+e.message+": "+t)}},JSONPath.cache={},JSONPath.toPathString=function(t){var e,r,n=t,o="$";for(e=1,r=n.length;e<r;e++)/^(~|\^|@.*?\(\))$/.test(n[e])||(o+=/^[0-9*]+$/.test(n[e])?"["+n[e]+"]":"['"+n[e]+"']");return o},JSONPath.toPointer=function(t){var e,r,n=t,o="";for(e=1,r=n.length;e<r;e++)/^(~|\^|@.*?\(\))$/.test(n[e])||(o+="/"+n[e].toString().replace(/\~/g,"~0").replace(/\//g,"~1"));return o},JSONPath.toPathArray=function(t){var e=JSONPath.cache;if(e[t])return e[t].concat();var r=[],n=t.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/[\['](\??\(.*?\))[\]']/g,function(t,e){return"[#"+(r.push(e)-1)+"]"}).replace(/\['([^'\]]*)'\]/g,function(t,e){return"['"+e.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/'?\.'?(?![^\[]*\])|\['?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(t,e){return";"+e.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").split(";").map(function(t){var e=t.match(/#([0-9]+)/);return e&&e[1]?r[e[1]]:t});return e[t]=n,e[t]},JSONPath.eval=function(t,e,r){return JSONPath(r,e,t)},"function"==typeof define&&define.amd?define(function(){return JSONPath}):isNode?module.exports=JSONPath:(glbl.jsonPath={eval:JSONPath.eval},glbl.JSONPath=JSONPath)}(this||self,void 0===require?null:require)},{vm:54}],5:[function(t,e,r){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(h===clearTimeout)return clearTimeout(t);if((h===o||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){v&&d&&(v=!1,d.length?y=d.concat(y):g=-1,y.length&&u())}function u(){if(!v){var t=s(a);v=!0;for(var e=y.length;e;){for(d=y,y=[];++g<e;)d&&d[g].run();g=-1,e=y.length}d=null,v=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function p(){}var l,h,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{h="function"==typeof clearTimeout?clearTimeout:o}catch(t){h=o}}();var d,y=[],v=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];y.push(new c(t,e)),1!==y.length||v||s(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=p,f.addListener=p,f.once=p,f.off=p,f.removeListener=p,f.removeAllListeners=p,f.emit=p,f.prependListener=p,f.prependOnceListener=p,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],6:[function(t,e,r){!function(t,n){"function"==typeof define&&define.amd?define(n):"object"==typeof r?e.exports=n():t.resolveUrl=n()}(this,function(){return function(){var t=arguments.length;if(0===t)throw new Error("resolveUrl requires at least one argument; got none.");var e=document.createElement("base");if(e.href=arguments[0],1===t)return e.href;var r=document.getElementsByTagName("head")[0];r.insertBefore(e,r.firstChild);for(var n,o=document.createElement("a"),s=1;s<t;s++)o.href=arguments[s],n=o.href,e.href=n;return r.removeChild(e),n}})},{}],7:[function(t,e,r){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(t){n.prototype[t]=function(){return this._defaults.push({fn:t,arguments:arguments}),this}}),n.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,e.arguments)})},e.exports=n},{}],8:[function(t,e,r){function n(){}function o(t){if(!y(t))return t;var e=[];for(var r in t)s(e,r,t[r]);return e.join("&")}function s(t,e,r){if(null!=r)if(Array.isArray(r))r.forEach(function(r){s(t,e,r)});else if(y(r))for(var n in r)s(t,e+"["+n+"]",r[n]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));else null===r&&t.push(encodeURIComponent(e))}function i(t){for(var e,r,n={},o=t.split("&"),s=0,i=o.length;s<i;++s)-1==(r=(e=o[s]).indexOf("="))?n[decodeURIComponent(e)]="":n[decodeURIComponent(e.slice(0,r))]=decodeURIComponent(e.slice(r+1));return n}function a(t){for(var e,r,n,o,s=t.split(/\r?\n/),i={},a=0,u=s.length;a<u;++a)-1!==(e=(r=s[a]).indexOf(":"))&&(n=r.slice(0,e).toLowerCase(),o=b(r.slice(e+1)),i[n]=o);return i}function u(t){return/[\/+]json($|[^-\w])/.test(t)}function c(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.header=this.headers=a(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function p(t,e){var r=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new c(r)}catch(e){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=e,r.xhr?(t.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,t.status=r.xhr.status?r.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),r.callback(t)}r.emit("response",e);var n;try{r._isResponseOK(e)||(n=new Error(e.statusText||"Unsuccessful HTTP response"))}catch(t){n=t}n?(n.original=t,n.response=e,n.status=e.status,r.callback(n,e)):r.callback(null,e)})}function l(t,e,r){var n=m("DELETE",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}var h;"undefined"!=typeof window?h=window:"undefined"!=typeof self?h=self:(console.warn("Using browser-only version of superagent in non-browser environment"),h=this);var f=t("component-emitter"),d=t("./request-base"),y=t("./is-object"),v=t("./response-base"),g=t("./agent-base"),m=r=e.exports=function(t,e){return"function"==typeof e?new r.Request("GET",t).end(e):1==arguments.length?new r.Request("GET",t):new r.Request(t,e)};r.Request=p,m.getXHR=function(){if(!(!h.XMLHttpRequest||h.location&&"file:"==h.location.protocol&&h.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only version of superagent could not find XHR")};var b="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};m.serializeObject=o,m.parseString=i,m.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},m.serialize={"application/x-www-form-urlencoded":o,"application/json":JSON.stringify},m.parse={"application/x-www-form-urlencoded":i,"application/json":JSON.parse},v(c.prototype),c.prototype._parseBody=function(t){var e=m.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&u(this.type)&&(e=m.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null)},c.prototype.toError=function(){var t=this.req,e=t.method,r=t.url,n="cannot "+e+" "+r+" ("+this.status+")",o=new Error(n);return o.status=this.status,o.method=e,o.url=r,o},m.Response=c,f(p.prototype),d(p.prototype),p.prototype.type=function(t){return this.set("Content-Type",m.types[t]||t),this},p.prototype.accept=function(t){return this.set("Accept",m.types[t]||t),this},p.prototype.auth=function(t,e,r){1===arguments.length&&(e=""),"object"==typeof e&&null!==e&&(r=e,e=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});return this._auth(t,e,r,function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")})},p.prototype.query=function(t){return"string"!=typeof t&&(t=o(t)),t&&this._query.push(t),this},p.prototype.attach=function(t,e,r){if(e){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,r||e.name)}return this},p.prototype._getFormData=function(){return this._formData||(this._formData=new h.FormData),this._formData},p.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var r=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),r(t,e)},p.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},p.prototype.buffer=p.prototype.ca=p.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},p.prototype.pipe=p.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},p.prototype._isHost=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},p.prototype.end=function(t){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||n,this._finalizeQueryString(),this._end()},p.prototype._end=function(){var t=this,e=this.xhr=m.getXHR(),r=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var r=e.readyState;if(r>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4==r){var n;try{n=e.status}catch(t){n=0}if(!n){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var n=function(e,r){r.total>0&&(r.percent=r.loaded/r.total*100),r.direction=e,t.emit("progress",r)};if(this.hasListeners("progress"))try{e.onprogress=n.bind(null,"download"),e.upload&&(e.upload.onprogress=n.bind(null,"upload"))}catch(t){}try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof r&&!this._isHost(r)){var o=this._header["content-type"],s=this._serializer||m.serialize[o?o.split(";")[0]:""];!s&&u(o)&&(s=m.serialize["application/json"]),s&&(r=s(r))}for(var i in this.header)null!=this.header[i]&&this.header.hasOwnProperty(i)&&e.setRequestHeader(i,this.header[i]);return this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0!==r?r:null),this},m.agent=function(){return new g},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(t){g.prototype[t.toLowerCase()]=function(e,r){var n=new m.Request(t,e);return this._setDefaults(n),r&&n.end(r),n}}),g.prototype.del=g.prototype.delete,m.get=function(t,e,r){var n=m("GET",t);return"function"==typeof e&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n},m.head=function(t,e,r){var n=m("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n},m.options=function(t,e,r){var n=m("OPTIONS",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},m.del=l,m.delete=l,m.patch=function(t,e,r){var n=m("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},m.post=function(t,e,r){var n=m("POST",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},m.put=function(t,e,r){var n=m("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}},{"./agent-base":7,"./is-object":9,"./request-base":10,"./response-base":11,"component-emitter":2}],9:[function(t,e,r){"use strict";e.exports=function(t){return null!==t&&"object"==typeof t}},{}],10:[function(t,e,r){"use strict";function n(t){if(t)return o(t)}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}var s=t("./is-object");e.exports=n,n.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},n.prototype.parse=function(t){return this._parser=t,this},n.prototype.responseType=function(t){return this._responseType=t,this},n.prototype.serialize=function(t){return this._serializer=t,this},n.prototype.timeout=function(t){if(!t||"object"!=typeof t)return this._timeout=t,this._responseTimeout=0,this;for(var e in t)switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",e)}return this},n.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var i=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];n.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(t,e);if(!0===r)return!0;if(!1===r)return!1}catch(t){console.error(t)}if(e&&e.status&&e.status>=500&&501!=e.status)return!0;if(t){if(t.code&&~i.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"==t.code)return!0;if(t.crossDomain)return!0}return!1},n.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},n.prototype.then=function(t,e){if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(t,e){r.end(function(r,n){r?e(r):t(n)})})}return this._fullfilledPromise.then(t,e)},n.prototype.catch=function(t){return this.then(void 0,t)},n.prototype.use=function(t){return t(this),this},n.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},n.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},n.prototype.get=function(t){return this._header[t.toLowerCase()]},n.prototype.getHeader=n.prototype.get,n.prototype.set=function(t,e){if(s(t)){for(var r in t)this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},n.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},n.prototype.field=function(t,e){if(null===t||void 0===t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),s(t)){for(var r in t)this.field(r,t[r]);return this}if(Array.isArray(e)){for(var n in e)this.field(t,e[n]);return this}if(null===e||void 0===e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},n.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},n.prototype._auth=function(t,e,r,n){switch(r.type){case"basic":this.set("Authorization","Basic "+n(t+":"+e));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer "+t)}return this},n.prototype.withCredentials=function(t){return void 0==t&&(t=!0),this._withCredentials=t,this},n.prototype.redirects=function(t){return this._maxRedirects=t,this},n.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw TypeError("Invalid argument");return this._maxResponseSize=t,this},n.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},n.prototype.send=function(t){var e=s(t),r=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&s(this._data))for(var n in t)this._data[n]=t[n];else"string"==typeof t?(r||this.type("form"),r=this._header["content-type"],this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(r||this.type("json"),this)},n.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},n.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var r=this.url.substring(e+1).split("&");"function"==typeof this._sort?r.sort(this._sort):r.sort(),this.url=this.url.substring(0,e)+"?"+r.join("&")}}},n.prototype._appendQueryString=function(){console.trace("Unsupported")},n.prototype._timeoutError=function(t,e,r){if(!this._aborted){var n=new Error(t+e+"ms exceeded");n.timeout=e,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.abort(),this.callback(n)}},n.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},{"./is-object":9}],11:[function(t,e,r){"use strict";function n(t){if(t)return o(t)}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}var s=t("./utils");e.exports=n,n.prototype.get=function(t){return this.header[t.toLowerCase()]},n.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=s.type(e);var r=s.params(e);for(var n in r)this[n]=r[n];this.links={};try{t.link&&(this.links=s.parseLinks(t.link))}catch(t){}},n.prototype._setStatusProperties=function(t){var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.redirect=3==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.created=201==t,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t,this.unprocessableEntity=422==t}},{"./utils":12}],12:[function(t,e,r){"use strict";r.type=function(t){return t.split(/ *; */).shift()},r.params=function(t){return t.split(/ *; */).reduce(function(t,e){var r=e.split(/ *= */),n=r.shift(),o=r.shift();return n&&o&&(t[n]=o),t},{})},r.parseLinks=function(t){return t.split(/ *, */).reduce(function(t,e){var r=e.split(/ *; */),n=r[0].slice(1,-1);return t[r[1].split(/ *= */)[1].slice(1,-1)]=n,t},{})},r.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t}},{}],13:[function(t,e,r){"use strict";function n(t){null==t&&(t=""),this.id=t}function o(t){return new n(t)}var s=!1;n.prototype.enable=function(){this.enabled=!0},n.prototype.debug=function(t){s&&console.log(this.id+"/debug: "+t)},n.prototype.info=function(t){s&&console.log(this.id+"/info: "+t)},n.prototype.warn=function(t){s&&console.log(this.id+"/warn: "+t)},n.prototype.error=function(t){s&&console.log(this.id+"/error: "+t)},o.enable=function(){s=!0},e.exports=o},{}],14:[function(t,e,r){"use strict";e.exports={isArray:function(t){return null!=t&&"[object Array]"===Object.prototype.toString.call(t)}}},{}],15:[function(t,e,r){"use strict";function n(){}function o(t,e){return e=e||{},s(t,e),i(t,e),a(t,e),u(t,e),c(t,e),p(t,e),t}function s(t,e){var r=e.qs;null!=r&&(t=t.query(r))}function i(t,e){var r=e.headers;null!=r&&(t=t.set(r))}function a(t,e){var r=e.auth;null!=r&&(t=t.auth(r.user||r.username,r.pass||r.password))}function u(t,e){if(null!=e){var r=e.body;null!=r&&(t=t.send(r))}}function c(t,e){if(null!=e){var r=e.form;null!=r&&(t=(t=t.set("content-type","application/x-www-form-urlencoded")).send(r))}}function p(t,e){null!=e&&!0===e.withCredentials&&t.withCredentials()}function l(t){return t.body=t.text,t.statusCode=t.status,t}function h(t){return function(e,r){if(e){if(!r)return t(e);t(null,l(r))}else t(null,l(r))}}var f=t("superagent");n.prototype.get=function(t,e,r){return o(f.get(t),e).end(h(r))},n.prototype.post=function(t,e,r){return o(f.post(t),e).end(h(r))},n.prototype.put=function(t,e,r){return o(f.put(t),e).end(h(r))},n.prototype.patch=function(t,e,r){return o(f.patch(t),e).end(h(r))},n.prototype.del=function(t,e,r){return o(f.del(t),e).end(h(r))},e.exports=new n},{superagent:8}],16:[function(t,e,r){"use strict";var n={startsWith:function(t,e){return""===e||null!=t&&null!=e&&(t=String(t),e=String(e),t.length>=e.length&&t.slice(0,e.length)===e)},endsWith:function(t,e){return""===e||null!=t&&null!=e&&(t=String(t),e=String(e),t.length>=e.length&&t.slice(t.length-e.length)===e)},splice:function(t,e,r,o){var s=n.chars(t);return s.splice(~~e,~~r,o),s.join("")},contains:function(t,e){return""===e||null!=t&&-1!==String(t).indexOf(e)},chars:function(t){return null==t?[]:String(t).split("")}};e.exports=n},{}],17:[function(t,e,r){"use strict";var n=t("resolve-url");r.resolve=function(t,e){return n(t,e)}},{"resolve-url":6}],18:[function(t,e,r){"use strict";var n=t("minilog"),o=t("./errors"),s=o.errors,i=o.createError,a=n("traverson");r.abortTraversal=function(){a.debug("aborting link traversal"),this.aborted=!0,this.currentRequest&&(a.debug("request in progress. trying to abort it, too."),this.currentRequest.abort())},r.registerAbortListener=function(t,e){t.currentRequest&&t.currentRequest.on("abort",function(){r.callCallbackOnAbort(t)})},r.callCallbackOnAbort=function(t){a.debug("link traversal aborted"),t.callbackHasBeenCalledAfterAbort||(t.callbackHasBeenCalledAfterAbort=!0,t.callback(r.abortError(),t))},r.abortError=function(){var t=i("Link traversal process has been aborted.",s.TraversalAbortedError);return t.aborted=!0,t}},{"./errors":21,minilog:13}],19:[function(t,e,r){"use strict";function n(t,e,r,n){var o;o=t.convertResponseToObject?[y,i,v,g,p]:[d],t.lastMethod=r,s.walk(t,o,n)}function o(t){return{abort:t.abortTraversal}}t("minilog")("traverson"),t("./abort_traversal"),t("./transforms/apply_transforms"),t("./http_requests"),t("./is_continuation");var s=t("./walker"),i=t("./transforms/check_http_status"),a=t("./transforms/continuation_to_doc"),u=t("./transforms/continuation_to_response"),c=t("./transforms/convert_embedded_doc_to_response"),p=t("./transforms/extract_doc"),l=t("./transforms/extract_response"),h=t("./transforms/extract_url"),f=t("./transforms/fetch_last_resource"),d=t("./transforms/execute_last_http_request"),y=t("./transforms/execute_http_request"),v=t("./transforms/parse"),g=t("./transforms/parse_link_header");r.get=function(t,e){var r;return r=t.convertResponseToObject?[a,f,i,v,g,p]:[u,f,c,l],s.walk(t,r,e),o(t)},r.getUrl=function(t,e){return s.walk(t,[h],e),o(t)},r.post=function(t,e){return n(t,t.requestModuleInstance,t.requestModuleInstance.post,e),o(t)},r.put=function(t,e){return n(t,t.requestModuleInstance,t.requestModuleInstance.put,e),o(t)},r.patch=function(t,e){return n(t,t.requestModuleInstance,t.requestModuleInstance.patch,e),o(t)},r.delete=function(t,e){return n(t,t.requestModuleInstance,t.requestModuleInstance.del,e),o(t)}},{"./abort_traversal":18,"./http_requests":22,"./is_continuation":23,"./transforms/apply_transforms":30,"./transforms/check_http_status":31,"./transforms/continuation_to_doc":32,"./transforms/continuation_to_response":33,"./transforms/convert_embedded_doc_to_response":34,"./transforms/execute_http_request":36,"./transforms/execute_last_http_request":37,"./transforms/extract_doc":38,"./transforms/extract_response":39,"./transforms/extract_url":40,"./transforms/fetch_last_resource":41,"./transforms/parse":44,"./transforms/parse_link_header":45,"./walker":51,minilog:13}],20:[function(t,e,r){"use strict";function n(t,e){this.mediaType=t||T.CONTENT_NEGOTIATION,this.linkType=e||"link-rel",this.adapter=this._createAdapter(this.mediaType),this.autoHeaders=!0,this.contentNegotiation=!0,this.convertResponseToObjectFlag=!1,this.links=[],this.jsonParser=JSON.parse,this.requestModuleInstance=d,this.requestOptions={},this.resolveRelativeFlag=!1,this.preferEmbedded=!1,this.lastTraversalState=null,this.continuation=null}function o(t,e){for(var r=0;r<Math.max(t.length,e.length);r++)t[r]=O(t[r],e[r])}function s(t,e){for(var r=[],n=0;n<e.length;n++)r[n]=O(e[n],t);return r}function i(t,e){for(var r=0;r<t.length;r++)O(t[r],e)}function a(t,e){var r=null!==e&&void 0!==typeof e?e:null,n={aborted:!1,adapter:t.adapter||null,body:r,callbackHasBeenCalledAfterAbort:!1,autoHeaders:t.setsAutoHeaders(),contentNegotiation:t.doesContentNegotiation(),continuation:null,convertResponseToObject:t.convertsResponseToObject(),links:t.links,jsonParser:t.getJsonParser(),requestModuleInstance:t.getRequestLibrary(),requestOptions:t.getRequestOptions(),resolveRelative:t.doesResolveRelative(),preferEmbedded:t.doesPreferEmbeddedResources(),startUrl:t.startUrl,step:{url:t.startUrl,index:0},templateParameters:t.getTemplateParameters()};return n.abortTraversal=g.bind(n),t.continuation&&(n.continuation=t.continuation,n.step=t.continuation.step,t.continuation=null),n}function u(t,e,r,n){return function(o,s){return o?r(o):r(null,s,{continue:function(){if(!e)throw _("No traversal state to continue from.",b.InvalidStateError);return x.debug("> continuing finished traversal process"),t.continuation={step:e.step,action:n},t.continuation.step.index=0,c(t,e),t}})}}function c(t,e){t.aborted=!1,t.adapter=e.adapter,t.body=e.body,t.callbackHasBeenCalledAfterAbort=!1,t.autoHeaders=e.autoHeaders,t.contentNegotiation=e.contentNegotiation,t.convertResponseToObjectFlag=e.convertResponseToObject,t.links=[],t.jsonParser=e.jsonParser,t.requestModuleInstance=e.requestModuleInstance,t.requestOptions=e.requestOptions,t.resolveRelativeFlag=e.resolveRelative,t.preferEmbedded=e.preferEmbedded,t.startUrl=e.startUrl,t.templateParameters=e.templateParameters}function p(t){return y.isArray(t)?h(t):"object"==typeof t?l(t):t}function l(t){return O(null,t)}function h(t){return t?t.slice(0):t}var f=t("minilog"),d=t("request"),y=t("util"),v=t("./actions"),g=t("./abort_traversal").abortTraversal,m=t("./errors"),b=m.errors,_=m.createError,w=t("./media_type_registry"),T=t("./media_types"),O=t("./merge_recursive"),x=f("traverson");n.prototype._createAdapter=function(t){var e=w.get(t);if(!e)throw _("Unknown or unsupported media type: "+t,b.UnsupportedMediaType);return x.debug("creating new "+e.name),new e(x)},n.prototype.newRequest=function(){var t=new n(this.getMediaType(),this.getLinkType());return t.useAutoHeaders(this.setsAutoHeaders()),t.contentNegotiation=this.doesContentNegotiation(),t.convertResponseToObject(this.convertsResponseToObject()),t.from(h(this.getFrom())),t.withTemplateParameters(p(this.getTemplateParameters())),t.withRequestOptions(p(this.getRequestOptions())),t.withRequestLibrary(this.getRequestLibrary()),t.parseResponseBodiesWith(this.getJsonParser()),t.resolveRelative(this.doesResolveRelative()),t.preferEmbeddedResources(this.doesPreferEmbeddedResources()),t.continuation=this.continuation,t},n.prototype.setMediaType=function(t){return this.mediaType=t||T.CONTENT_NEGOTIATION,this.adapter=this._createAdapter(t),this.contentNegotiation=t===T.CONTENT_NEGOTIATION,this},n.prototype.getLinkType=function(){return this.linkType},n.prototype.json=function(){return this.setMediaType(T.JSON),this},n.prototype.jsonHal=function(){return this.setMediaType(T.JSON_HAL),this},n.prototype.useContentNegotiation=function(){return this.setMediaType(T.CONTENT_NEGOTIATION),this.contentNegotiation=!0,this},n.prototype.from=function(t){return this.startUrl=t,this},n.prototype.follow=function(){for(var t=Array.prototype.slice.apply(1===arguments.length&&y.isArray(arguments[0])?arguments[0]:arguments),e=0;e<t.length;e++)"string"==typeof t[e]&&(t[e]={type:this.linkType,value:t[e]});return this.links=this.links.concat(t),this},n.prototype.followLocationHeader=function(){return this.links.push({type:"header",value:"location"}),this},n.prototype.walk=n.prototype.follow,n.prototype.withTemplateParameters=function(t){return this.templateParameters=t,this},n.prototype.withRequestOptions=function(t){return this.requestOptions=t,this},n.prototype.addRequestOptions=function(t){return y.isArray(this.requestOptions)&&y.isArray(t)?o(this.requestOptions,t):"object"==typeof this.requestOptions&&y.isArray(t)?this.requestOptions=s(this.requestOptions,t):y.isArray(this.requestOptions)&&"object"==typeof t?i(this.requestOptions,t):O(this.requestOptions,t),this},n.prototype.withRequestLibrary=function(t){return this.requestModuleInstance=t,this},n.prototype.parseResponseBodiesWith=function(t){return this.jsonParser=t,this},n.prototype.disableAutoHeaders=function(){return this.useAutoHeaders(!1)},n.prototype.enableAutoHeaders=function(){return this.useAutoHeaders(!0)},n.prototype.useAutoHeaders=function(t){return void 0!==t&&null!==t||(t=!0),this.autoHeaders=!!t,this},n.prototype.convertResponseToObject=function(t){return void 0!==t&&null!==t||(t=!0),this.convertResponseToObjectFlag=!!t,this},n.prototype.resolveRelative=function(t){return void 0!==t&&null!==t||(t=!0),this.resolveRelativeFlag=!!t,this},n.prototype.preferEmbeddedResources=function(t){return void 0!==t&&null!==t||(t=!0),this.preferEmbedded=!!t,this},n.prototype.getMediaType=function(){return this.mediaType},n.prototype.getFrom=function(){return this.startUrl},n.prototype.getTemplateParameters=function(){return this.templateParameters},n.prototype.getRequestOptions=function(){return this.requestOptions},n.prototype.getRequestLibrary=function(){return this.requestModuleInstance},n.prototype.getJsonParser=function(){return this.jsonParser},n.prototype.setsAutoHeaders=function(){return this.autoHeaders},n.prototype.convertsResponseToObject=function(){return this.convertResponseToObjectFlag},n.prototype.doesResolveRelative=function(){return this.resolveRelativeFlag},n.prototype.doesPreferEmbeddedResources=function(){return this.preferEmbedded},n.prototype.doesContentNegotiation=function(){return this.contentNegotiation},n.prototype.get=function(t){x.debug("initiating traversal (get)");var e=a(this);return v.get(e,u(this,e,t,"get"))},n.prototype.getResource=function(t){x.debug("initiating traversal (getResource)"),this.convertResponseToObjectFlag=!0;var e=a(this);return v.get(e,u(this,e,t,"getResource"))},n.prototype.getUrl=function(t){x.debug("initiating traversal (getUrl)");var e=a(this);return v.getUrl(e,u(this,e,t,"getUrl"))},n.prototype.getUri=n.prototype.getUrl,n.prototype.post=function(t,e){x.debug("initiating traversal (post)");var r=a(this,t);return v.post(r,u(this,r,e,"post"))},n.prototype.put=function(t,e){x.debug("initiating traversal (put)");var r=a(this,t);return v.put(r,u(this,r,e,"put"))},n.prototype.patch=function(t,e){x.debug("initiating traversal (patch)");var r=a(this,t);return v.patch(r,u(this,r,e,"patch"))},n.prototype.delete=function(t){x.debug("initiating traversal (delete)");var e=a(this);return v.delete(e,u(this,e,t,"delete"))},n.prototype.del=n.prototype.delete,n.prototype.linkHeader=function(){return this.linkType="link-header",this},e.exports=n},{"./abort_traversal":18,"./actions":19,"./errors":21,"./media_type_registry":25,"./media_types":26,"./merge_recursive":27,minilog:13,request:15,util:14}],21:[function(t,e,r){"use strict";e.exports={errors:{HTTPError:"HTTPError",InvalidArgumentError:"InvalidArgumentError",InvalidStateError:"InvalidStateError",JSONError:"JSONError",JSONPathError:"JSONPathError",LinkError:"LinkError",TraversalAbortedError:"TraversalAbortedError",UnsupportedMediaType:"UnsupportedMediaTypeError"},createError:function(t,e,r){var n=new Error(t);return n.name=e,r&&(n.data=r),n}}},{}],22:[function(t,e,r){(function(e){"use strict";function n(t,e){var r=p(t);o.debug("HTTP GET request to ",t.step.url),o.debug("options ",r),t.currentRequest=t.requestModuleInstance.get(t.step.url,r,function(r,n,s){return o.debug("HTTP GET request to "+t.step.url+" returned"),t.currentRequest=null,s&&!n.body&&(n.body=s),t.step.response=n,r?e(r,t):(o.debug("request to "+t.step.url+" finished without error ("+n.statusCode+")"),i(t,e)?e(null,t):void 0)}),s.registerAbortListener(t,e)}var o=t("minilog")("traverson"),s=t("./abort_traversal"),i=t("./transforms/detect_content_type"),a=t("./errors"),u=a.errors,c=a.createError,p=t("./transforms/get_options_for_step");r.fetchResource=function(t,r){return o.debug("fetching resource for next step"),t.step.url?(o.debug("fetching resource from ",t.step.url),n(t,r)):t.step.doc?(o.debug("resource for next step has already been fetched, using embedded"),e.nextTick(function(){r(null,t)})):e.nextTick(function(){var e=c("Can not process step.",u.InvalidStateError);e.step=t.step,r(e,t)})},r.executeHttpRequest=function(t,e,r,n){var i=p(t);null!==t.body&&void 0!==t.body&&(i.body=i.jsonReplacer?t.body:JSON.stringify(t.body)),o.debug("HTTP "+r.name+" request to ",t.step.url),o.debug("options ",i),t.currentRequest=r.call(e,t.step.url,i,function(e,s,i){return o.debug("HTTP "+r.name+" request to "+t.step.url+" returned"),t.currentRequest=null,i&&!s.body&&(s.body=i),t.step.response=s,e?n(e):n(null,s)}),s.registerAbortListener(t,n)}}).call(this,t("_process"))},{"./abort_traversal":18,"./errors":21,"./transforms/detect_content_type":35,"./transforms/get_options_for_step":43,_process:5,minilog:13}],23:[function(t,e,r){"use strict";e.exports=function(t){return t.continuation&&t.step&&t.step.response}},{}],24:[function(t,e,r){"use strict";function n(t){this.log=t}function o(t){if(void 0===t||null===t)throw c("Link object is null or undefined.",u.InvalidArgumentError);if("object"!=typeof t)throw c("Links must be objects, not "+typeof t+".",u.InvalidArgumentError,t);if(!t.type)throw c("Link objects has no type attribute.",u.InvalidArgumentError,t)}var s=t("jsonpath-plus"),i=(t("minilog"),t("underscore.string")),a=t("./errors"),u=a.errors,c=a.createError,p=t("./parse_link_header_value");n.mediaType="application/json",n.prototype.findNextStep=function(t,e){o(e);var r=t.lastStep.doc;switch(this.log.debug("resolving link",e),e.type){case"link-rel":return this._handleLinkRel(r,e);case"header":return this._handleHeader(t.lastStep.response,e);case"link-header":return this._handleLinkHeader(t.lastStep.response,e);default:throw c("Link objects with type "+e.type+" are not supported by this adapter.",u.InvalidArgumentError,e)}},n.prototype._handleLinkRel=function(t,e){var r=e.value;this.log.debug("looking for link-rel in doc",r,t);if(this._testJSONPath(r))return{url:this._resolveJSONPath(t,r)};if(t[r])return{url:t[r]};throw c("Could not find property "+r+" in document.",u.LinkError,t)},n.prototype._testJSONPath=function(t){return i.startsWith(t,"$.")||i.startsWith(t,"$[")},n.prototype._resolveJSONPath=function(t,e){var r=s({json:t,path:e});if(1===r.length){var n=r[0];if(!n)throw c("JSONPath expression "+e+" was resolved but the result was null, undefined or an empty string in document:\n"+JSON.stringify(t),u.JSONPathError,t);if("string"!=typeof n)throw c("JSONPath expression "+e+' was resolved but the result is not a property of type string. Instead it has type "'+typeof n+'" in document:\n'+JSON.stringify(t),u.JSONPathError,t);return n}throw r.length>1?c("JSONPath expression "+e+" returned more than one match in document:\n"+JSON.stringify(t),u.JSONPathError,t):c("JSONPath expression "+e+" returned no match in document:\n"+JSON.stringify(t),u.JSONPathError,t)},n.prototype._handleHeader=function(t,e){switch(e.value){case"location":var r=t.headers.location;if(!r)throw c("Following the location header but there was no location header in the last response.",u.LinkError,t.headers);return{url:r};default:throw c("Link objects with type header and value "+e.value+" are not supported by this adapter.",u.InvalidArgumentError,e)}},n.prototype._handleLinkHeader=function(t,e){if(!t.headers.link)throw c("There was no link header in the last response.",u.InvalidArgumentError,e);var r=p(t.headers.link);if(r[e.value])return{url:r[e.value].url};throw c("Link with relation "+e.value+" not found in link header.",u.InvalidArgumentError,e)},e.exports=n},{"./errors":21,"./parse_link_header_value":29,"jsonpath-plus":4,minilog:13,"underscore.string":16}],25:[function(t,e,r){"use strict";var n=t("./media_types"),o={};r.register=function(t,e){o[t]=e},r.get=function(t){return o[t]},r.register(n.CONTENT_NEGOTIATION,t("./negotiation_adapter")),r.register(n.JSON,t("./json_adapter"))},{"./json_adapter":24,"./media_types":26,"./negotiation_adapter":28}],26:[function(t,e,r){"use strict";var n=t("./json_adapter");e.exports={CONTENT_NEGOTIATION:"content-negotiation",JSON:n.mediaType,JSON_HAL:"application/hal+json"}},{"./json_adapter":24}],27:[function(t,e,r){"use strict";function n(t,e){!t&&e&&(t={});for(var r in e)e.hasOwnProperty(r)&&o(t,e,r);return t}function o(t,e,r){"object"==typeof e[r]?(t[r]&&"object"==typeof t[r]||(t[r]={}),n(t[r],e[r])):t[r]=e[r]}e.exports=n},{}],28:[function(t,e,r){"use strict";function n(t){}var o=t("./errors"),s=o.errors,i=o.createError;n.prototype.findNextStep=function(t,e){throw i("Content negotiation did not happen",s.InvalidStateError)},e.exports=n},{"./errors":21}],29:[function(t,e,r){function n(t){try{var e=t.split(";"),r=e.shift().replace(/[<>]/g,""),n=e.reduce(o,{});return n.url=r,n}catch(t){return null}}function o(t,e){var r=e.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return r&&(t[r[1]]=r[2]),t}function s(t){return t&&t.rel}function i(t,e){return e.rel.split(/\s+/).forEach(function(r){t[r]=a({rel:r},e)}),t}var a=t("./merge_recursive");e.exports=function(t){return t?t.split(/,\s*</).map(n).filter(s).reduce(i,{}):null}},{"./merge_recursive":27}],30:[function(t,e,r){(function(r){"use strict";function n(t,e,s){o.debug("applying",t.length,"transforms");for(var i=0;i<t.length;i++){var a=t[i];if(o.debug("next transform",a),a.isAsync)return a(e,function(e){n(t.slice(i+1),e,s)});if(!a(e))return void o.debug("transform has failed or was a final transform")}return o.debug("all transformations done, starting next step"),r.nextTick(function(){s(e)})}var o=t("minilog")("traverson");e.exports=n}).call(this,t("_process"))},{_process:5,minilog:13}],31:[function(t,e,r){"use strict";function n(t,e,r){var n=a("HTTP GET for "+t+" resulted in HTTP status code "+e+".",i.HTTPError);n.url=t,n.httpStatus=e,n.body=r;try{n.doc=JSON.parse(r)}catch(t){}return n}var o=t("minilog")("traverson"),s=t("../errors"),i=s.errors,a=s.createError,u=t("../is_continuation");e.exports=function(t){if(u(t))return!0;if(o.debug("checking http status"),!t.step.response&&t.step.doc)return o.debug("found embedded document, assuming no HTTP request has been made"),!0;var e=t.step.response.statusCode;if(e&&(e<200||e>=300)){var r=n(t.step.url,e,t.step.response.body);return o.error("unexpected http status code"),o.error(r),t.callback(r),!1}return o.debug("http status code ok ("+e+")"),!0}},{"../errors":21,"../is_continuation":23,minilog:13}],32:[function(t,e,r){"use strict";var n=t("minilog")("traverson"),o=t("../is_continuation");e.exports=function(t){return!o(t)||(n.debug("continuing from last traversal process (actions)"),t.continuation=null,t.callback(null,t.step.doc),!1)}},{"../is_continuation":23,minilog:13}],33:[function(t,e,r){"use strict";var n=t("minilog")("traverson"),o=t("./convert_embedded_doc_to_response"),s=t("../is_continuation");e.exports=function(t){return!s(t)||(n.debug("continuing from last traversal process (actions)"),t.continuation=null,o(t),t.callback(null,t.step.response),!1)}},{"../is_continuation":23,"./convert_embedded_doc_to_response":34,minilog:13}],34:[function(t,e,r){"use strict";var n=t("minilog")("traverson");e.exports=function(t){return!t.step.response&&t.step.doc&&(n.debug("faking HTTP response for embedded resource"),t.step.response={statusCode:200,body:JSON.stringify(t.step.doc),remark:"This is not an actual HTTP response. The resource you requested was an embedded resource, so no HTTP request was made to acquire it."}),!0}},{minilog:13}],35:[function(t,e,r){"use strict";var n=t("minilog")("traverson"),o=t("../media_type_registry"),s=t("../errors"),i=s.errors,a=s.createError;e.exports=function(t,e){if(t.contentNegotiation&&t.step.response&&t.step.response.headers&&t.step.response.headers["content-type"]){var r=t.step.response.headers["content-type"].split(/[; ]/)[0];n.debug("found content type string",r);var s=o.get(r);if(!s)return n.error("no adapter for content type",r),e(a("Unknown content type for content type detection: "+r,i.UnsupportedMediaType),t),!1;t.adapter=new s(n),n.debug("switched to media type adapter",t.adapter.name||t.adapter.constructor.name)}return!0}},{"../errors":21,"../media_type_registry":25,minilog:13}],36:[function(t,e,r){"use strict";function n(t,e){if(t.aborted)return s.callCallbackOnAbort(t);i.executeHttpRequest(t,t.requestModuleInstance,t.lastMethod,function(r,n){if(r)return r.aborted||(o.debug("error while executing http request, processing step ",t.step),o.error(r)),t.callback(r);e(t)})}var o=t("minilog")("traverson"),s=t("../abort_traversal"),i=t("../http_requests");n.isAsync=!0,e.exports=n},{"../abort_traversal":18,"../http_requests":22,minilog:13}],37:[function(t,e,r){"use strict";function n(t,e){if(t.aborted)return o.callCallbackOnAbort(t);s.executeHttpRequest(t,t.requestModuleInstance,t.lastMethod,t.callback)}t("minilog")("traverson");var o=t("../abort_traversal"),s=t("../http_requests");n.isAsync=!0,e.exports=n},{"../abort_traversal":18,"../http_requests":22,minilog:13}],38:[function(t,e,r){"use strict";var n=t("minilog")("traverson");e.exports=function(t){return n.debug("walker.walk has finished"),t.callback(null,t.step.doc),!1}},{minilog:13}],39:[function(t,e,r){"use strict";var n=t("minilog")("traverson");e.exports=function(t){return n.debug("walker.walk has finished"),t.callback(null,t.step.response),!1}},{minilog:13}],40:[function(t,e,r){"use strict";var n=t("minilog")("traverson"),o=t("url"),s=t("../errors"),i=s.errors,a=s.createError;e.exports=function(t){return n.debug("walker.walk has finished"),t.step.url?t.callback(null,t.step.url):t.step.doc&&t.step.doc._links&&t.step.doc._links.self&&t.step.doc._links.self.href?t.callback(null,o.resolve(t.startUrl,t.step.doc._links.self.href)):t.callback(a('You requested an URL but the last resource is an embedded resource and has no URL of its own (that is, it has no link with rel="self"',i.LinkError))}},{"../errors":21,minilog:13,url:17}],41:[function(t,e,r){"use strict";function n(t,e){if(t.aborted)return s.callCallbackOnAbort(t);i.fetchResource(t,function(t,r){if(o.debug("fetchResource returned (fetchLastResource)."),t)return t.aborted||(o.debug("error while executing http request"),o.error(t)),r.callback(t);e(r)})}var o=t("minilog")("traverson"),s=t("../abort_traversal"),i=t("../http_requests");n.isAsync=!0,e.exports=n},{"../abort_traversal":18,"../http_requests":22,minilog:13}],42:[function(t,e,r){(function(r){"use strict";function n(t,e){u(t)?o(t,e):s(t,e)}function o(t,e){i.debug("continuing from last traversal process (walker)"),r.nextTick(function(){e(t)})}function s(t,e){if(t.aborted)return a.callCallbackOnAbort(t);c.fetchResource(t,function(t,r){if(i.debug("fetchResource returned"),t)return t.aborted||(i.debug("error while executing http request"),i.error(t)),r.callback(t);e(r)})}var i=t("minilog")("traverson"),a=t("../abort_traversal"),u=t("../is_continuation"),c=t("../http_requests");n.isAsync=!0,e.exports=n}).call(this,t("_process"))},{"../abort_traversal":18,"../http_requests":22,"../is_continuation":23,_process:5,minilog:13}],43:[function(t,e,r){"use strict";function n(t,e){var r=t.adapter.constructor.mediaType||t.adapter.mediaType;r&&(e.headers?e.headers=a(o(e,r),e.headers):e.headers=o(e,r))}function o(t,e){return t.form?{Accept:e}:{Accept:e,"Content-Type":e}}var s=t("minilog")("traverson"),i=t("util"),a=t("../merge_recursive");e.exports=function(t){var e=t.requestOptions;return i.isArray(t.requestOptions)&&(e=t.requestOptions[t.step.index]||{}),t.autoHeaders&&n(t,e),s.debug("options",e),e}},{"../merge_recursive":27,minilog:13,util:14}],44:[function(t,e,r){"use strict";function n(t){i.debug("parsing response body"),t.requestOptions&&t.requestOptions.jsonReviver?t.step.doc=t.step.response.body:t.step.doc=t.jsonParser(t.step.response.body)}function o(t,e){var r=e;"SyntaxError"===e.name&&(r=s(t.step.url,t.step.response.body)),i.error("parsing failed"),i.error(r),t.callback(r)}function s(t,e){var r=c("The document at "+t+" could not be parsed as JSON: "+e,u.JSONError,e);return r.url=t,r.body=e,r}var i=t("minilog")("traverson"),a=t("../errors"),u=a.errors,c=a.createError,p=t("../is_continuation");e.exports=function(t){if(p(t)&&(i.debug("continuing from last traversal process (transforms/parse)"),"getResource"===t.continuation.action))return!0;if(t.step.doc)return i.debug("no parsing necessary, probably an embedded document"),!0;try{return n(t),!0}catch(e){return o(t,e),!1}}},{"../errors":21,"../is_continuation":23,minilog:13}],45:[function(t,e,r){"use strict";function n(t,e){o.error("failed to parse link header"),o.error(e),t.callback(e)}var o=t("minilog")("traverson"),s=t("../parse_link_header_value");e.exports=function(t){if(!(t.step.doc&&t.step.response&&t.step.response.headers&&t.step.response.headers.link))return!0;try{var e=s(t.step.response.headers.link);return t.step.doc._linkHeaders=e,!0}catch(e){return n(t,e),!1}}},{"../parse_link_header_value":29,minilog:13}],46:[function(t,e,r){"use strict";var n=t("../is_continuation");e.exports=function(t){return!!n(t)||(t.continuation=null,!0)}},{"../is_continuation":23}],47:[function(t,e,r){"use strict";var n=t("../is_continuation");e.exports=function(t){return!!n(t)||(t.lastStep=null,!0)}},{"../is_continuation":23}],48:[function(t,e,r){"use strict";var n=t("minilog")("traverson"),o=t("underscore.string"),s=t("url"),i=/https?:\/\//i;e.exports=function(t){return t.step.url&&0!==t.step.url.search(i)&&(n.debug("found non full qualified URL"),t.resolveRelative&&t.lastStep&&t.lastStep.url?(n.debug("resolving URL relative"),o.startsWith(t.step.url,"/")&&o.endsWith(t.lastStep.url,"/")&&(t.step.url=o.splice(t.step.url,0,1)),t.step.url=t.lastStep.url+t.step.url):t.step.url=s.resolve(t.startUrl,t.step.url)),!0}},{minilog:13,"underscore.string":16,url:17}],49:[function(t,e,r){"use strict";var n=t("minilog")("traverson"),o=t("underscore.string"),s=t("url-template"),i=t("util");e.exports=function(t){if(t.step.url){var e=t.templateParameters;if(i.isArray(e)&&(e=e[t.step.index]),e=e||{},o.contains(t.step.url,"{")){n.debug("resolving URI template");var r=s.parse(t.step.url).expand(e);n.debug("resolved to ",r),t.step.url=r}}return!0}},{minilog:13,"underscore.string":16,"url-template":53,util:14}],50:[function(t,e,r){"use strict";function n(t,e){try{return t.adapter.findNextStep(t,e)}catch(e){return o.error("could not find next step"),o.error(e),t.callback(e),null}}var o=t("minilog")("traverson");e.exports=function(t){var e=t.links[t.step.index];return o.debug("next link: "+e),t.lastStep=t.step,t.step=n(t,e),!!t.step&&(o.debug("found next step",t.step),t.step.index=t.lastStep.index+1,!0)}},{minilog:13}],51:[function(t,e,r){"use strict";function n(t,e){if(i.debug("processing next step"),o(t)&&!s(t))u(p,t,function(t){i.debug("successfully processed step"),n(t,e)});else{if(s(t))return a.callCallbackOnAbort(t);i.debug("link array exhausted"),u(e,t,function(t){return t.callback()})}}function o(t){return t.step.index<t.links.length}function s(t){return t.aborted}var i=t("minilog")("traverson"),a=t("./abort_traversal"),u=t("./transforms/apply_transforms"),c=(t("./is_continuation"),t("./transforms/resolve_uri_template")),p=[t("./transforms/fetch_resource"),t("./transforms/reset_last_step"),t("./transforms/check_http_status"),t("./transforms/parse"),t("./transforms/switch_to_next_step"),c,t("./transforms/resolve_next_url"),t("./transforms/reset_continuation")];r.walk=function(t,e,r){c(t)&&(i.debug("starting to follow links"),e=e||[],t.callback=r,n(t,e))}},{"./abort_traversal":18,"./is_continuation":23,"./transforms/apply_transforms":30,"./transforms/check_http_status":31,"./transforms/fetch_resource":42,"./transforms/parse":44,"./transforms/reset_continuation":46,"./transforms/reset_last_step":47,"./transforms/resolve_next_url":48,"./transforms/resolve_uri_template":49,"./transforms/switch_to_next_step":50,minilog:13}],52:[function(t,e,r){(function(e){"use strict";t("minilog");var n=t("./lib/errors"),o=n.errors,s=n.createError,i=t("./lib/media_types"),a=t("./lib/builder"),u=t("./lib/media_type_registry");e.env.TRAVERSON_LOGGING&&t("minilog").enable(),r._Builder=a,r.newRequest=function(){return new a},r.from=function(t){var e=new a;return e.from(t),e},r.json={from:function(t){var e=new a;return e.from(t),e.setMediaType(i.JSON),e}},r.jsonHal={from:function(t){if(!u.get(i.JSON_HAL))throw s("JSON HAL adapter is not registered. From version 1.0.0 on, Traverson has no longer built-in support for application/hal+json. HAL support was moved to a separate, optional plug-in. See https://github.com/traverson/traverson-hal",o.UnsupportedMediaType);var e=new a;return e.from(t),e.setMediaType(i.JSON_HAL),e}},r.registerMediaType=u.register,r.mediaTypes=i,r.errors=o}).call(this,t("_process"))},{"./lib/builder":20,"./lib/errors":21,"./lib/media_type_registry":25,"./lib/media_types":26,_process:5,minilog:13}],53:[function(t,e,r){!function(t,n){"object"==typeof r?e.exports=n():"function"==typeof define&&define.amd?define([],n):t.urltemplate=n()}(this,function(){function t(){}return t.prototype.encodeReserved=function(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")},t.prototype.encodeUnreserved=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})},t.prototype.encodeValue=function(t,e,r){return e="+"===t||"#"===t?this.encodeReserved(e):this.encodeUnreserved(e),r?this.encodeUnreserved(r)+"="+e:e},t.prototype.isDefined=function(t){return void 0!==t&&null!==t},t.prototype.isKeyOperator=function(t){return";"===t||"&"===t||"?"===t},t.prototype.getValues=function(t,e,r,n){var o=t[r],s=[];if(this.isDefined(o)&&""!==o)if("string"==typeof o||"number"==typeof o||"boolean"==typeof o)o=o.toString(),n&&"*"!==n&&(o=o.substring(0,parseInt(n,10))),s.push(this.encodeValue(e,o,this.isKeyOperator(e)?r:null));else if("*"===n)Array.isArray(o)?o.filter(this.isDefined).forEach(function(t){s.push(this.encodeValue(e,t,this.isKeyOperator(e)?r:null))},this):Object.keys(o).forEach(function(t){this.isDefined(o[t])&&s.push(this.encodeValue(e,o[t],t))},this);else{var i=[];Array.isArray(o)?o.filter(this.isDefined).forEach(function(t){i.push(this.encodeValue(e,t))},this):Object.keys(o).forEach(function(t){this.isDefined(o[t])&&(i.push(this.encodeUnreserved(t)),i.push(this.encodeValue(e,o[t].toString())))},this),this.isKeyOperator(e)?s.push(this.encodeUnreserved(r)+"="+i.join(",")):0!==i.length&&s.push(i.join(","))}else";"===e?this.isDefined(o)&&s.push(this.encodeUnreserved(r)):""!==o||"&"!==e&&"?"!==e?""===o&&s.push(""):s.push(this.encodeUnreserved(r)+"=");return s},t.prototype.parse=function(t){var e=this,r=["+","#",".","/",";","?","&"];return{expand:function(n){return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(t,o,s){if(o){var i=null,a=[];if(-1!==r.indexOf(o.charAt(0))&&(i=o.charAt(0),o=o.substr(1)),o.split(/,/g).forEach(function(t){var r=/([^:\*]*)(?::(\d+)|(\*))?/.exec(t);a.push.apply(a,e.getValues(n,i,r[1],r[2]||r[3]))}),i&&"+"!==i){var u=",";return"?"===i?u="&":"#"!==i&&(u=i),(0!==a.length?i:"")+a.join(u)}return a.join(",")}return e.encodeReserved(s)})}}},new t})},{}],54:[function(require,module,exports){function Context(){}var indexOf=require("indexof"),Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)e.push(r);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var r=0;r<t.length;r++)e(t[r],r,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,r){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(t){return function(t,e,r){t[e]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var r=e.contentWindow,n=r.eval,o=r.execScript;!n&&o&&(o.call(r,"null"),n=r.eval),forEach(Object_keys(t),function(e){r[e]=t[e]}),forEach(globals,function(e){t[e]&&(r[e]=t[e])});var s=Object_keys(r),i=n.call(r,this.code);return forEach(Object_keys(r),function(e){(e in t||-1===indexOf(s,e))&&(t[e]=r[e])}),forEach(globals,function(e){e in t||defineProp(t,e,r[e])}),document.body.removeChild(e),i},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),r=this.runInContext(e);return forEach(Object_keys(e),function(r){t[r]=e[r]}),r},forEach(Object_keys(Script.prototype),function(t){exports[t]=Script[t]=function(e){var r=Script(e);return r[t].apply(r,[].slice.call(arguments,1))}}),exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e=new Context;return"object"==typeof t&&forEach(Object_keys(t),function(r){e[r]=t[r]}),e}},{indexof:3}],"traverson-angular":[function(t,e,r){"use strict";function n(t){this.abortPromise=t,this.listeners=[]}var o,s=t("traverson");if("undefined"!=typeof angular)o=angular;else if("function"!=typeof(o=t("angular")).module)throw new Error("angular has either to be provided globally or made available as a shim for browserify. (Also, if the angular module on npm would actually be a proper CommonJS module, this error wouldn't be a thing.)");var i=o.module("traverson",[]),a=s._Builder,u={get:a.prototype.get,getResource:a.prototype.getResource,getUrl:a.prototype.getUrl,post:a.prototype.post,put:a.prototype.put,patch:a.prototype.patch,delete:a.prototype.delete};i.factory("traverson",["$q","$httpTraversonAdapter",function(t,e){function r(e,r,n){var o,s=t.defer();(n=n||[]).push(function(t,e,r){t?(t.result=e,s.reject(t)):(o=r,s.resolve(e))});var i=r.apply(e,n);return{result:s.promise,continue:function(){var e=t.defer();return s.promise.then(function(){e.resolve(o.continue())},function(){var t=new Error("Can't continue from a broken traversal.");throw t.name="InvalidStateError",t}),e.promise},abort:i.abort,then:function(){throw new Error("As of version 2.0.0, Traverson's action methods do no longer return the promise directly. Code like \ntraverson.from(url).follow(...).getResource().then(...)\nneeds to be changed to \ntraverson.from(url).follow(...).getResource().result.then(...)")}}}return a.prototype.get=function(){return r(this,u.get)},a.prototype.getResource=function(){return r(this,u.getResource)},a.prototype.getUrl=a.prototype.getUri=function(){return r(this,u.getUrl)},a.prototype.post=function(t){return r(this,u.post,[t])},a.prototype.put=function(t){return r(this,u.put,[t])},a.prototype.patch=function(t){return r(this,u.patch,[t])},a.prototype.delete=a.prototype.del=function(){return r(this,u.delete)},a.prototype.useAngularHttp=function(){return this.withRequestLibrary(e),this},s}]),i.factory("$httpTraversonAdapter",["$http","$q",function(t,e){function r(){}function o(t){var r={};return s(r,t=t||{}),i(r,t),a(r,t),u(r,t),c(r,t),r.transformResponse=function(t,e,r){return t},r.timeout=e.defer(),r}function s(t,e){var r=e.qs||e.query;r&&(t.params=r)}function i(t,e){e.headers&&(t.headers=e.headers)}function a(t,e){var r=e.auth;if(r){var n=r.user||r.username,o=r.pass||r.password;t.headers=t.headers||{},t.headers.Authorization="Basic "+btoa(n+":"+o)}}function u(t,e){e.body&&(t.data=e.body)}function c(t,e){var r=e.form;r&&(t.data=r,t.headers=t.headers||{},t.headers["Content-Type"]="application/x-www-form-urlencoded")}function p(t){return t.body=t.data,t.headers=t.headers(),t.statusCode=t.status,t}function l(t){return function(e){return t(null,p(e))}}function h(t){return function(e){return e.status>=100&&e.status<600?t(null,p(e)):t(e)}}return r.prototype.get=function(e,r,s){return r=o(r),t.get(e,r).then(l(s)).catch(h(s)),new n(r.timeout)},r.prototype.post=function(e,r,s){return r=o(r),t.post(e,r.data,r).then(l(s)).catch(h(s)),new n(r.timeout)},r.prototype.put=function(e,r,s){return r=o(r),t.put(e,r.data,r).then(l(s)).catch(h(s)),new n(r.timeout)},r.prototype.patch=function(e,r,s){return r=o(r),t.patch(e,r.data,r).then(l(s)).catch(h(s)),new n(r.timeout)},r.prototype.del=function(e,r,s){return r=o(r),t.delete(e,r).then(l(s)).catch(h(s)),new n(r.timeout)},new r}]),n.prototype.abort=function(){this.abortPromise.resolve(),this.listeners.forEach(function(t){t.call()})},n.prototype.on=function(t,e){if("abort"!==t){var r=new Error("Event "+t+" not supported");throw r.name="InvalidArgumentError",r}this.listeners.push(e)},e.exports=i},{angular:1,traverson:52}]},{},["traverson-angular"]);